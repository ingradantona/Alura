<canvas width="600" height="400"></canvas>

<script>

    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');
    var serie2015 = [50, 25, 20, 5];
    var serie2016 = [65, 20, 13, 2];
    var cores = ['blue', 'green', 'yellow', 'red'];

    function desenhaRetangulo(x, y, largura, altura, cor) {
        var tela = document.querySelector('canvas');
        var pincel = tela.getContext('2d');

        pincel.fillStyle=cor;
        pincel.fillRect(x,y, largura, altura);
        pincel.strokeStyle='black';
        pincel.strokeRect(x,y, largura, altura);
    }

    function desenhaBarra (x,y,serie,cores) {

        var somaAltura = 0 // ficou fora para não zerar toda vez que recomeçar

        for (let i = 0; i < serie.length; i++) {
            
            var alturaBarra = serie[i] 

            pincel.fillStyle = cores[i];
            pincel.fillRect (x,y + somaAltura,50,serie[i]);
            pincel.strokeStyle = "black";
            pincel.strokeRect (x,y + somaAltura, 50, serie[i]);
            somaAltura = somaAltura + alturaBarra; //para variar o início do y
        }

    }

    desenhaBarra(50, 50, serie2015, cores);
    desenhaBarra(150, 50, serie2016, cores);

   /* for (let i = 0; i < serie2015.length; i++) {
        
        pincel.fillStyle = cores[i];
        pincel.fillRect (50,inicio2015,50,serie2015[i]);

        pincel.strokeStyle = "black";
        pincel.strokeRect (50,inicio2015,50,serie2015[i]);

        inicio2015 = inicio2015 + serie2015[i];
        
    }

    for (let i = 0; i < serie2016.length; i++) {
        
        pincel.fillStyle = cores[i];
        pincel.fillRect (125,inicio2016,50,serie2016[i]);

        pincel.strokeStyle = "black";
        pincel.strokeRect (125,inicio2016,50,serie2016[i]);

        inicio2016 = inicio2016 + serie2016[i];
        
    } */

</script>